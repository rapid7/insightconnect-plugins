plugin_spec_version: v2
extension: plugin
products: [insightconnect]
name: salesforce
title: Salesforce
description: The Salesforce plugin allows you to search, update, and manage salesforce records
version: 2.0.0
connection_version: 2
vendor: rapid7
support: community
cloud_ready: true
status: []
supported_versions: ["Salesforce API v58 2023-06-30"]
resources:
  source_url: https://github.com/rapid7/insightconnect-plugins/tree/master/plugins/salesforce
  license_url: https://github.com/rapid7/insightconnect-plugins/blob/master/LICENSE
  vendor_url: https://www.salesforce.com/
tags:
- marketing
- sales
- analysis
- crm
hub_tags:
  use_cases: [remediation_management, reporting_and_analytics]
  keywords: [marketing, sales, analysis, crm, cloud_enabled]
  features: []
types:
  searchResult:
    type:
      title: Type
      description: Type of the record
      type: string
      required: false
      example: Account
    url:
      title: URL
      description: URL of the record
      type: string
      required: false
      example: /services/data/v58.0/sobjects/Account/001Hn00001uAJRtaB3
    name:
      title: Name
      description: Name of the record
      type: string
      example: Example Account
    id:
      title: ID
      description: ID of the record
      type: string
      required: false
      example: 001Hn00001uAJRtaB3
connection:
  clientId:
    title: Client ID
    description: Consumer Key of the connected app
    type: string
    required: true
    example: 1234567890aBcdEFRoeRxDE1234567890abCDef6Etz7VLwwLQZn19jyW3U_1234567890AbcdEF4VkuMS4ze
  clientSecret:
    title: Client Secret
    description: Consumer Secret of the connected app
    type: credential_secret_key
    required: true
    example: 1234567890ABCDEF1234567890ABCDEF1234567890ABCDEF1234567890ABCDEF
  salesforceAccountUsernameAndPassword:
    title: Salesforce Account Username and Password
    description: Name and password of the Salesforce user
    type: credential_username_password
    required: true
    example: '{"username": "user@example.com", "password": "password"}'
  securityToken:
    title: Security Token
    description: Security token of the Salesforce user
    type: credential_secret_key
    required: true
    example: Ier6YY78KxJwKtHy7HeK0oPc
actions:
  simple_search:
    title: Simple Search
    description: Execute a simple search for a text
    input:
      text:
        title: Text
        description: Text to search for
        type: string
        required: true
        example: test
    output:
      searchResults:
        title: Search Results
        description: List of search results
        type: '[]searchResult'
        required: false
        example: []
  advanced_search:
    title: Advanced Search
    description: Execute a SOQL (Salesforce Object Query Language) query
    input:
      query:
        title: Query
        description: SOQL query
        type: string
        required: true
        example: SELECT FIELDS(STANDARD) FROM Account WHERE Name='Example Account'
    output:
      searchResults:
        title: Search Results
        description: List of search results
        type: '[]searchResult'
        required: false
        example: []
  create_record:
    title: Create Record
    description: Create a new SObject record
    input:
      objectName:
        title: Object Name
        description: The name of the object (e.g. 'Account')
        type: string
        required: true
        example: Account
      objectData:
        title: Object Data
        description: SObject information for the newly created record
        type: object
        required: true
        example: '{"name": "example-name"}'
    output:
      id:
        title: ID
        description: ID of the newly created record
        type: string
        required: false
        example: 000AA000000aa0aAAA
  update_record:
    title: Update Record
    description: Update a record
    input:
      recordId:
        title: Record ID
        description: The ID of an existing record
        type: string
        required: true
        example: 000AA000000aa0aAAA
      objectName:
        title: Object Name
        description: The name of the object (e.g. 'Account')
        type: string
        default: Account
        required: true
        example: Account
      objectData:
        title: Object Data
        description: Updated SObject information
        type: object
        required: true
        example: '{"name": "example-name"}'
    output:
      success:
        title: Success
        description: Was the operation successful
        type: boolean
        required: false
        example: True
  get_record:
    title: Get Record
    description: Retrieve a record
    input:
      recordId:
        title: Record ID
        description: The ID of an existing record
        type: string
        required: true
        example: 999Hn99999uM8mnBBB
      externalIdFieldName:
        title: External ID Field Name
        description: The name of the external ID field that should be matched with record_id. If empty, the 'Id' field of the record is used
        type: string
        required: false
        default: ''
        example: ExampleExtID__c
      objectName:
        title: Object Name
        description: The name of the object
        type: string
        default: Account
        required: true
        example: Folder
    output:
      record:
        title: Record
        description: Matched record
        type: object
        required: false
        example: {}
  delete_record:
    title: Delete Record
    description: Delete a record
    input:
      recordId:
        title: Record ID
        description: The ID of an existing record
        type: string
        required: true
        example: 000AA000000aa0aAAA
      objectName:
        title: Object Name
        description: The name of the object (e.g. 'Account')
        type: string
        default: Account
        required: true
        example: Account
    output:
      success:
        title: Success
        description: Was the operation successful
        type: boolean
        required: false
        example: True
  get_fields:
    title: Get Fields
    description: Retrieve field values from the record of the given object
    input:
      recordId:
        title: Record ID
        description: The ID of an existing record
        type: string
        required: true
        example: 001Hn00001uAJRtaB3
      objectName:
        title: Object Name
        description: The name of the object (e.g. 'Account')
        type: string
        default: Account
        required: true
        example: Account
      fields:
        title: Fields
        description: The fields which values should be retrieved
        type: '[]string'
        required: true
        example: ["Id", "Name", "Description"]
    output:
      fields:
        title: Fields
        description: An object with field names as keys, each with the corresponding value
        type: object
        required: false
        example: {}
  get_blob_data:
    title: Get Blob Data
    description: Retrieve blob data for a given record
    input:
      recordId:
        title: Record ID
        description: The ID of an existing record
        type: string
        required: true
        example: 001Hn00001uAJRtaB3
      objectName:
        title: Object Name
        description: The name of the object (e.g. 'Attachment')
        type: string
        default: Attachment
        required: true
        example: Attachment
      fieldName:
        title: Field Name
        description: Blob field name
        type: string
        required: true
        default: body
        example: body
    output:
      data:
        title: Data
        description: The value of the selected blob field
        type: bytes
        required: false
        example: dGVzdA==
